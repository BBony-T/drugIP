<!-- search.html -->
<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê²€ìƒ‰ ê²°ê³¼</title>
  <style>
    :root{
      /* âœ… ìœ„ì¹˜ ë¯¸ì„¸ì¡°ì •ì´ í•„ìš”í•˜ë©´ ì—¬ê¸° ìˆ«ìë§Œ ì¡°ê¸ˆì”© ë°”ê¾¸ë©´ ë¨ */
      --title-top: 12%;
      --title-left: 19%;
      --title-width: 53%;
      --title-height: 10%;

      --screen-top: 46%;
      --screen-left: 18%;
      --screen-width: 65%;
      --screen-height: 40%;

      --btn-top: 88%;
      --btn-left: 25%;
      --btn-width: 50%;
      --btn-height: 7.5%;
    }

    body{
      margin:0;
      background:#111;
      display:grid;
      place-items:center;
      min-height:100vh;
      font-family: system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
    }

    /* âœ… ë°°ê²½ PNGë¥¼ ê·¸ëŒ€ë¡œ í•œ ì¥ ê¹”ê³ , ê·¸ ìœ„ì— í…ìŠ¤íŠ¸/ë²„íŠ¼ë§Œ ì˜¬ë¦¬ëŠ” ë°©ì‹ */
    .stage{
      width:min(480px, 100vw);
      aspect-ratio: 1 / 1;              /* ë„ˆê°€ ì¤€ ì´ë¯¸ì§€ê°€ 1:1 ì •ì‚¬ê°í˜•ì´ë¼ ì•ˆì •ì  */
      position:relative;
      background-image:url("./bg-search.png");
      background-size:cover;
      background-position:center;
      background-repeat:no-repeat;
      overflow:hidden;
    }

    /* âœ… ìƒë‹¨ ì‘ì€ ë°•ìŠ¤(ê²€ìƒ‰ì°½) ì•ˆì— ë“¤ì–´ê°ˆ ì œëª© */
    .title{
      position:absolute;
      top:var(--title-top);
      left:var(--title-left);
      width:var(--title-width);
      height:var(--title-height);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      font-size: clamp(14px, 3.2vw, 20px);
      color:#111;
      text-align:center;
      padding: 0 8px;
      /* ë°°ê²½ì€ ì´ë¯¸ PNGì— ìˆìœ¼ë¯€ë¡œ ë”°ë¡œ ë°•ìŠ¤ ë°°ê²½ ì•ˆ ê¹œ */
      pointer-events:none;
      user-select:none;
    }

    /* âœ… íœ´ëŒ€í° í™”ë©´(í° ì˜ì—­) ì•ˆìª½ì— ëœ¨ëŠ” ëœë¤ ë¬¸êµ¬ */
    .result{
      position:absolute;
      top:var(--screen-top);
      left:var(--screen-left);
      width:var(--screen-width);
      height:var(--screen-height);
      display:flex;
      align-items: flex-start;
      justify-content: center; /* ğŸ”¹ ì™¼ìª½ ìœ„ ê¸°ì¤€ */
      text-align: left;            /* ğŸ”¹ ì½ëŠ” ë¬¸ì¥ ëŠë‚Œ */
      padding: 18px 16px;
      box-sizing:border-box;
      font-weight:600;
      font-size: clamp(14px, 3.0vw, 18px);
      line-height:1.35;
      color:#111;
      white-space:pre-wrap;
      overflow:hidden;
    }

    /* âœ… í•˜ë‹¨: í•™ìƒê¸°ììš© ë²„íŠ¼(í•­ìƒ ë³´ì„) */
    .btn{
      position:absolute;
      top:var(--btn-top);
      left:var(--btn-left);
      width:var(--btn-width);
      height:var(--btn-height);
      border:0;
      border-radius:14px;
      font-weight:800;
      font-size: clamp(13px, 3.0vw, 16px);
      cursor:pointer;
      background:#421515;
      color:#fff;
      box-shadow: 0 6px 18px rgba(0,0,0,.25);
    }
    .btn:active{ transform: translateY(1px); }
    .btn.done{
      background:#666;
      cursor:default;
      box-shadow:none;
    }

    /* âœ… í•™ìƒê¸°ì ì•ˆë‚´ íŒì—…(ê°„ë‹¨í•˜ê²Œ) */
    .modal{
      position:absolute;
      inset:0;
      background: rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding:16px;
      box-sizing:border-box;
    }
    .modal.on{ display:flex; }

    .sheet{
      width:min(360px, 92vw);
      background:#fff;
      border-radius:16px;
      padding:14px;
      box-sizing:border-box;
      text-align:center;
    }
    .sheet h3{
      margin:0 0 8px;
      font-size:16px;
      font-weight:900;
    }
    .sheet p{
      margin:0 0 12px;
      font-size:12px;
      line-height:1.4;
    }
    .sheet a{
      display:block;              /* inline-block ëŒ€ì‹  block ì¶”ì²œ */
      width:100%;
      box-sizing:border-box;      /* âœ… íŒ¨ë”© í¬í•¨í•´ì„œ 100%ë¡œ ê³„ì‚° â†’ ì‚ì ¸ë‚˜ì˜´ í•´ê²° */
      padding:12px 10px;
      border-radius:14px;
      background:#111;
      color:#fff;
      text-decoration:none;
      font-weight:900;
    }
    .sheet button{
      margin-top:10px;
      width:100%;
      padding:10px;
      border-radius:14px;
      border:0;
      background:#eee;
      font-weight:800;
      cursor:pointer;
    }
    #qrWrap{
      width:100%;
      box-sizing:border-box;
      margin: 10px 0 6px;
    }
    #qrReader{
      width:100%;
      max-width: 320px;
      margin: 0 auto;
      border-radius: 14px;
      overflow:hidden;     /* âœ… ì¹´ë©”ë¼ í™”ë©´ì´ ë‘¥ê·¼ ëª¨ì„œë¦¬ ë°–ìœ¼ë¡œ ì•ˆ ë‚˜ê°€ê²Œ */
    }
    #qrMsg{
      margin-top:10px;
      font-size:14px;
      font-weight:800;
    }
  </style>
</head>
<body>
  <div class="stage" role="img" aria-label="ì •ë³´ê²€ìƒ‰ í™”ë©´">
    <div class="title" id="title"></div>
    <div class="result" id="result">ë¡œë”© ì¤‘â€¦</div>

    <button class="btn" id="bonusBtn">ì¶”ê°€ ê²€ìƒ‰ ì¸ì¦(í•™ìƒê¸°ììš©)</button>

    <!-- í•™ìƒê¸°ì ì¸ì¦ ì•ˆë‚´ -->
    <div class="modal" id="modal">
      <div class="sheet">
        <h3>í•™ìƒê¸°ì ì¸ì¦</h3>
        <p>
          í•™ìƒê¸°ì í† í° QRì„ ì°ì–´ ì¸ì¦í•´ ì£¼ì„¸ìš”.<br>
          ì¸ì¦ì´ ì™„ë£Œë˜ë©´ ê²€ìƒ‰ ê²°ê³¼ê°€ 1íšŒ ë” ìë™ìœ¼ë¡œ ëœ¹ë‹ˆë‹¤.
        </p>
        <!-- í† í° QRì´ ì—¬ëŠ” í˜ì´ì§€ì™€ ë™ì¼í•˜ê²Œ ë§Œë“¤ì–´ë„ ë˜ê³ ,
             ìˆ˜ì—…ì—ì„  "í† í° QRì„ ì°ê¸°"ê°€ ë©”ì¸ì´ë¯€ë¡œ ì´ ë§í¬ëŠ” ë³´ì¡°ìš© -->
        <div id="qrWrap">
          <div id="qrReader"></div>
          <div id="qrMsg">í•™ìƒê¸°ì í† í° QRì„ ì¹´ë©”ë¼ë¡œ ë¹„ì¶°ì£¼ì„¸ìš”.</div>
        </div>

        <button id="closeModal">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(location.search);
  const s = Number(params.get("s") || "0");

  const titleEl = document.getElementById("title");
  const resultEl = document.getElementById("result");
  const bonusBtn = document.getElementById("bonusBtn");
  const modal = document.getElementById("modal");
  const closeModal = document.getElementById("closeModal");

  // âœ… í•™ìƒê¸°ì í† í° QRì— ë“¤ì–´ìˆëŠ” "ë¬¸ìì—´(ì¸ì¦ ì½”ë“œ)"ë¥¼ ì—¬ê¸°ì™€ ì¼ì¹˜ì‹œí‚¤ë©´ ì¸ì¦ ì„±ê³µ
  // í† í° QRì„ ë§Œë“¤ ë•Œ QR ë‚´ìš©(í…ìŠ¤íŠ¸)ì„ ì•„ë˜ì™€ ë˜‘ê°™ì´ ë„£ì–´ì¤˜.
  const REPORTER_TOKEN = "DRUGIP_REPORTER_TOKEN";

  // âœ… ê²Œì„ ì¤‘ 1íšŒ ì œí•œ(í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€)
  const USED_KEY = "reporter_used_once";
  const qrMsg = document.getElementById("qrMsg");

  let qr = null;
  let scanning = false;

  function setUsedUI(){
    bonusBtn.textContent = "ì‚¬ìš© ì™„ë£Œ";
    bonusBtn.classList.add("done");
    bonusBtn.disabled = true;
  }

  // ì´ë¯¸ ì‚¬ìš©í–ˆìœ¼ë©´ ë²„íŠ¼ ë¯¸ë¦¬ ì ê·¸ê¸°
  if (localStorage.getItem(USED_KEY) === "1") {
    setUsedUI();
  }

  async function startScan(){
    if (scanning) return;
    if (localStorage.getItem(USED_KEY) === "1") return;

    qrMsg.textContent = "í•™ìƒê¸°ì í† í° QRì„ ì¹´ë©”ë¼ë¡œ ë¹„ì¶°ì£¼ì„¸ìš”.";
    modal.classList.add("on");

    // html5-qrcode ì‹œì‘
    if (!qr) qr = new Html5Qrcode("qrReader");

    scanning = true;

    try{
      await qr.start(
        { facingMode: "environment" }, // âœ… í›„ë©´ ì¹´ë©”ë¼
        { fps: 10, qrbox: { width: 220, height: 220 } },
        async (decodedText) => {
          // ìŠ¤ìº” ì„±ê³µ ì½œë°±
          const text = (decodedText || "").trim();

          if (text === REPORTER_TOKEN) {
            // âœ… ì¸ì¦ ì„±ê³µ â†’ ì¶”ê°€ 1ì¤„ ì¶œë ¥ + ì‚¬ìš©ì™„ë£Œ ì²˜ë¦¬
            localStorage.setItem(USED_KEY, "1");
            qrMsg.textContent = "ì¸ì¦ ì™„ë£Œ! ê²€ìƒ‰ ê²°ê³¼ê°€ 1íšŒ ë” í‘œì‹œë©ë‹ˆë‹¤.";

            drawRandomLine();          // 1ì¤„ ë” ì¶œë ¥
            setUsedUI();               // ë²„íŠ¼ ì‚¬ìš©ì™„ë£Œ

            // ìŠ¤ìº” ì¢…ë£Œ + íŒì—… ë‹«ê¸°
            await stopScan();
            modal.classList.remove("on");
          } else {
            // âœ… ë‹¤ë¥¸ QRì€ ì‹¤íŒ¨ ì²˜ë¦¬
            qrMsg.textContent = "í•™ìƒê¸°ì í† í° QRë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë¹„ì¶°ì£¼ì„¸ìš”.";
          }
        },
        () => {
          // ìŠ¤ìº” ì‹¤íŒ¨(í”„ë ˆì„) ì½œë°±ì€ êµ³ì´ ì•ˆë‚´ ì•ˆ í•´ë„ ë¨
        }
      );
    } catch(err){
      scanning = false;
      qrMsg.textContent = "ì¹´ë©”ë¼ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì € ê¶Œí•œì„ í—ˆìš©í•´ ì£¼ì„¸ìš”.";
      console.error(err);
    }
  }

  async function stopScan(){
    if (!qr || !scanning) return;
    try{
      await qr.stop();
      await qr.clear();
    }catch(e){
      // stop ì¤‘ ì—ëŸ¬ëŠ” ë¬´ì‹œí•´ë„ OK
    }finally{
      scanning = false;
    }
  }


  // âœ… ë§ˆì§€ë§‰ ë°©ë¬¸ ê²€ìƒ‰ URL ì €ì¥(í† í° ì¸ì¦ í›„ ëŒì•„ì˜¤ê¸°ìš©)
  localStorage.setItem("last_search_url", location.href);

  // âœ… ì œëª©(ê²€ìƒ‰ì°½ ì•ˆ)
  titleEl.textContent = "ê²€ìƒ‰ ê²°ê³¼";

  // âœ… ì„ì‹œ ë¬¸ì¥(ë„ˆê°€ ë‚˜ì¤‘ì— ë¬¸ì¥ ë„£ì„ ê³³)
  const LINES = {
   1: [
      "ì¹´í˜ì¸ì€ ì¤‘ì¶”ì‹ ê²½ì„ ìê·¹í•´ í˜ˆê´€ ìˆ˜ì¶•ê³¼ ê°ì„±ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.",
      "í¸ë‘í†µì€ ë¹›, ì†Œë¦¬ ê°™ì€ ìê·¹ì— ì˜í•´ ì•…í™”ë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.",
      "ì§„í†µì œëŠ” í†µì¦ ì‹ í˜¸ë¥¼ ì™„í™”í•˜ëŠ” ì•½ë¬¼ì´ë‹¤.",
      "ë©€ë¯¸ì•½ì€ ì „ì •ê¸°ê´€(í‰í˜•ê°ê°)ê³¼ ê´€ë ¨ëœ ì–´ì§€ëŸ¼ê³¼ êµ¬ì—­ì— ì‘ìš©í•˜ëŠ” ê³„ì—´ì´ ìˆë‹¤."
    ],
    2: [
      "ì–´ì§€ëŸ¼ì¦ì€ ì„±ì¸ì˜ ì•½ 20%ê°€ ë§¤ë…„ í•œ ë²ˆ ì´ìƒ ê²½í—˜í•œë‹¤.",
      "ê¸°ë¦½ì„± ì €í˜ˆì••ì€ ììœ¨ì‹ ê²½ê³„ ì¡°ì ˆ ì´ìƒê³¼ ê´€ë ¨ëœë‹¤. í˜ˆì•• ë³´ìƒ ê¸°ì „ì´ ì¶©ë¶„í•˜ì§€ ì•Šì„ ë•Œ ì¦ìƒì´ ë‚˜íƒ€ë‚œë‹¤.",
      "ê¸°ë¦½ì„± ì–´ì§€ëŸ¼ì€ ì˜ˆì¸¡ì´ ì–´ë µë‹¤."
    ],
    3: [
      "ê³µë³µ ìƒíƒœëŠ” ìœ„ì‚°ì´ ì§ì ‘ ìœ„ì ë§‰ì„ ìê·¹í•´ ì†ì“°ë¦¼ì´ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "ì¹´í˜ì¸/ì—ë„ˆì§€ìŒë£ŒëŠ” ìœ„ì‚° ë¶„ë¹„ë¥¼ ì¦ê°€ì‹œí‚¤ë©° ê³µë³µ ì„­ì·¨ì‹œ ìœ„ì ë§‰ ìê·¹ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤.",
      "ìœ„ì‚° ì—­ë¥˜ëŠ” ì‹ ë¬¼ì´ ì˜¬ë¼ì˜¤ëŠ” ëŠë‚Œê³¼ ì—°ê´€ë  ìˆ˜ ìˆë‹¤.",
      "ì§„í†µì œ(NSAIDs ì¼ë¶€)ëŠ” ìœ„ì ë§‰ ìê·¹ì„ ì¦ê°€ì‹œí‚¤ëŠ” ê³„ì—´ì´ ìˆë‹¤."
    ],
    4: [
      "ì„¤ì‚¬ëŠ” ì¥ì—ì„œ ìˆ˜ë¶„ í¡ìˆ˜ê°€ ì¤„ê±°ë‚˜ ìŒì‹ë¬¼ì´ ëŒ€ì¥ì„ ë„ˆë¬´ ë¹ ë¥´ê²Œ í†µê³¼í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.",
      "ì„¤ì‚¬ë¡œ ì¸í•œ ë³µí†µì€ ì¥ìš´ë™ ì¦ê°€ë¡œ ë™ë°˜ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.",
      "í†µì¦ì„ ì¤„ì´ëŠ” ì•½ë¬¼ì€ í†µì¦ ì‹ í˜¸ë¥¼ ì™„í™”í•˜ì§€ë§Œ ì¥ìš´ë™ ìì²´ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.",
      "ì„¤ì‚¬ ì¦ìƒì„ ì¤„ì´ëŠ” ì•½ë¬¼ì€ ì¥ìš´ë™ì´ë‚˜ ì¥ë‚´í™˜ê²½ì— ì‘ìš©í•œë‹¤."
    ],
    5: [
      "ì¥ìš´ë™ ë³€í™”ëŠ” í•˜ë³µë¶€ ë¶ˆí¸ê°ì´ë‚˜ í†µì¦ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤.",
      "ìœ„ì¥ê´€ ê¸°ëŠ¥ì¡°ì ˆì œ(ì¥ìš´ë™ ì¡°ì ˆ ê³„ì—´)ëŠ” ì¥ì˜ ì›€ì§ì„ì„ ì¡°ì ˆí•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆë‹¤.",
      "ì§„í†µì œëŠ” í†µì¦ ì‹ í˜¸ë¥¼ ì¤„ì´ì§€ë§Œ ì¥ìš´ë™ ì›ì¸ ìì²´ë¥¼ ë°”ê¾¸ì§€ëŠ” ì•ŠëŠ”ë‹¤.",
      "ê°€ìŠ¤/ë³µë¶€ íŒ½ë§Œì€ í•˜ë³µë¶€ ì••í†µì´ë‚˜ ë¶ˆì¾Œê°ê³¼ í•¨ê»˜ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤."
    ],
    6: [
      "ë°˜ë³µ ì‚¬ìš©ì€ ê´€ì ˆê³¼ í˜ì¤„ ì£¼ë³€ì— ë¯¸ì„¸ ì†ìƒì„ ëˆ„ì ì‹œí‚¬ ìˆ˜ ìˆë‹¤.",
      "ë°”ë¥´ëŠ” íŒŒìŠ¤(êµ­ì†Œ ì†Œì—¼/ì§„í†µ)ëŠ” ì†ìƒ ë¶€ìœ„ êµ­ì†Œ ì¦ìƒì— ì‘ìš©í•˜ëŠ” ê³„ì—´ì´ ìˆë‹¤.",
      "ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœì€ ì§„í†µê³¼ í•´ì—´ ê³„ì—´ë¡œ ìœ„ì¥ê´€ ìê·¹ê³¼ëŠ” ì„±ê²©ì´ ë‹¤ë¥´ë‹¤.",
      "ì†Œì—¼ì§„í†µì œ(NSAIDs)ëŠ” ì—¼ì¦ ë°˜ì‘ì„ ì¤„ì´ëŠ” ë°©í–¥ìœ¼ë¡œ ì‘ìš©í•˜ëŠ” ê³„ì—´ì´ ìˆë‹¤."
    ],
    7: [
      "ì—¼ì¢ŒëŠ” ì¸ëŒ€ê°€ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì†ìƒëœ ìƒíƒœë¥¼ ë§í•œë‹¤.",
      "í†µì¦ì€ ì†ìƒ ë¶€ìœ„ì˜ ì—¼ì¦ ë°˜ì‘ê³¼ í•¨ê»˜ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœì€ í†µì¦ ì‹ í˜¸ë¥¼ ì¤„ì´ëŠ” ê³„ì—´ì´ë‹¤.",
      "ë°”ë¥´ëŠ” íŒŒìŠ¤(êµ­ì†Œ ì†Œì—¼/ì§„í†µ)ëŠ” ì†ìƒ ë¶€ìœ„ êµ­ì†Œ ì¦ìƒì— ì‘ìš©í•˜ëŠ” ê³„ì—´ì´ ìˆë‹¤."
    ],
    8: [
      "ì§„í†µì œì—ëŠ” í•´ì—´ì§„í†µì œì™€ ì†Œì—¼ì§„í†µì œê°€ ìˆë‹¤. ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœì€ í•´ì—´ì§„í†µì œì´ê³ , ì´ë¶€í”„ë¡œíœê³¼ ë‚˜í”„ë¡ì„¼ì€ ì†Œì—¼ì§„í†µì œì´ë‹¤.",
      "í•´ì—´ì§„í†µì œëŠ” ë³µìš© í›„ ì•½ 30ë¶„ë¶€í„° íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ë©° 2ì‹œê°„ ì •ë„ í›„ì— ìµœëŒ€ íš¨ê³¼ì— ë„ë‹¬í•œë‹¤.",
      "í•´ì—´ì œ ë³µìš© í›„ ì²´ì˜¨ ë³€í™”ëŠ” ë³´í†µ 1~1.5ë„ ê°ì†Œ ë²”ìœ„ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.",
      "ëª© í†µì¦ì€ ë°”ì´ëŸ¬ìŠ¤ ê°ì—¼ ì™¸ì—ë„ ê±´ì¡°í•œ ê³µê¸°, í›„ë¹„ë£¨, ê·¼ìœ¡ ê¸´ì¥ ë“± ë‹¤ì–‘í•œ ì›ì¸ê³¼ ì—°ê´€ë  ìˆ˜ ìˆë‹¤."
    ],
    9: [
      "ê¸°ì¹¨ì€ ê¸°ë„ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ë°˜ì‚¬ ì‘ìš©ìœ¼ë¡œ ë‚˜íƒ€ë‚œë‹¤.",
      "ì¢…í•©ê°ê¸°ì•½ì€ ì—¬ëŸ¬ ì¦ìƒ(ì½§ë¬¼,ê¸°ì¹¨,í†µì¦ ë“±)ì„ í•œ ë²ˆì— ì™„í™”í•˜ë„ë¡ ì„±ë¶„ì´ ì¡°í•©ëœ ê²½ìš°ê°€ ìˆë‹¤.",
      "ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœì€ í†µì¦ê³¼ ë°œì—´ ì¶•ì— ì‘ìš©í•˜ëŠ” ê³„ì—´ì´ë‹¤.",
      "ëª©ê°ê¸°ì•½(ì¸í›„ ì¦ìƒ ì™„í™” ê³„ì—´)ì€ ì¸í›„ ìê·¹ ì¦ìƒì— ì´ˆì ì„ ë‘” ì„±ë¶„ ì¡°í•©ì´ ìˆë‹¤."
    ],
    10: [
      "ë‘ë“œëŸ¬ê¸°ëŠ” í”¼ë¶€ í˜ˆê´€ ë°˜ì‘ìœ¼ë¡œ íŒ½ì§„ê³¼ ê°€ë ¤ì›€ì´ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "íˆìŠ¤íƒ€ë¯¼ ë¶„ë¹„ëŠ” ê°€ë ¤ì›€ê³¼ ë‘ë“œëŸ¬ê¸° ë°˜ì‘ê³¼ ì—°ê´€ëœë‹¤.",
      "í•­íˆìŠ¤íƒ€ì œëŠ” íˆìŠ¤íƒ€ë¯¼ ì‘ìš©ì„ ì¤„ì´ëŠ” ë°©í–¥ì˜ ì•½ë¬¼ ê³„ì—´ì´ë‹¤."
    ],
    11: [
      "ë¶€ì¢…ì€ í˜ˆê´€ íˆ¬ê³¼ì„±ì´ ê¸‰ê²©íˆ ì¦ê°€í•  ë•Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "ì ë§‰ ë¶€ì¢…ì€ í”¼ë¶€ ì¦ìƒê³¼ ë‹¤ë¥¸ ìœ„í—˜ë„ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.",
      "ì•Œë ˆë¥´ê¸° ë°˜ì‘ì˜ ì§„í–‰ì†ë„ëŠ” ê°œì¸ê³¼ ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.",
      "í˜¸í¡ê¸° ê´€ë ¨ ë¶€ì¢…ì€ ì¦ìƒ ì–‘ìƒì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤."
    ],
    12: [
      "í˜¸í¡ê³¤ë€ì€ ì‹¬ì¥Â·í ê¸°ëŠ¥ ë³€í™”ì™€ ì—°ê´€ë  ìˆ˜ ìˆë‹¤.",
      "í‰ë¶€ ë¶ˆí¸ê°ì€ ì‚°ì†Œ êµí™˜ê³¼ ìˆœí™˜ ë³€í™” ë“± ë‹¤ì–‘í•œ ì›ì¸ì—ì„œ ê³µí†µì ìœ¼ë¡œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "í˜¸í¡ ì¦ìƒ í‰ê°€ì—ëŠ” ì‚°ì†Œí¬í™”ë„, ì‹¬ì „ë„, í‰ë¶€ ì˜ìƒ ê°™ì€ ê²€ì‚¬ê°€ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.",
      "ì¦ìƒë§Œìœ¼ë¡œ ì›ì¸ ë‹¨ì •ì€ ì–´ë µë‹¤."
    ],
    13: [
      "ë‘í†µì—ëŠ” ìƒí™œìŠµê´€ ê´€ë¦¬ë¡œ ì™„í™”ë˜ëŠ” ë‘í†µê³¼ ì¦‰ì‹œ í‰ê°€ê°€ í•„ìš”í•œ ë‘í†µì´ ìˆë‹¤.",
      "ë‘í†µ í‰ê°€ì—ì„œ CTÂ·MRI ê°™ì€ ë‡Œ ì˜ìƒ ê²€ì‚¬ê°€ ì‹œí–‰ë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.",
      "ë‡Œì•• ìƒìŠ¹ì€ ì‹¬í•œ ë‘í†µê³¼ êµ¬í† ê°€ í•¨ê»˜ ë‚˜íƒ€ë‚˜ëŠ” ì–‘ìƒê³¼ ì—°ê´€ë  ìˆ˜ ìˆë‹¤.",
      "ì–‘ìƒì´ ë‹¤ë¥¸ ë‘í†µì€ ê¸°ì¡´ ë‘í†µê³¼ êµ¬ë¶„í•´ì„œ ë³¸ë‹¤."
    ],
    14: [
      "ëˆˆì— ì´ë¬¼ì§ˆì´ ë“¤ì–´ê°€ë©´ ëˆˆë¬¼ ë¶„ë¹„ê°€ ì¦ê°€í•˜ë©´ì„œ ì´ë¬¼ê°ì´ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "ì¸ê³µëˆˆë¬¼ì€ ëˆˆ í‘œë©´ì„ ì ì…” ì´ë¬¼ì§ˆ ë°°ì¶œì„ ë•ëŠ” ì—­í• ì„ í•œë‹¤.",
      "ì•Œë ˆë¥´ê¸° ë°˜ì‘ì´ ìˆì„ ê²½ìš° ëˆˆ ê°€ë ¤ì›€, ì¶©í˜ˆì´ í•¨ê»˜ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.",
      "ëˆˆì„ ë¹„ë¹„ëŠ” í–‰ë™ì€ ê°ë§‰ í‘œë©´ì— ë¯¸ì„¸ ì†ìƒì„ ìœ ë°œí•  ìˆ˜ ìˆë‹¤."
    ],
  };

  function drawRandomLine() {
    const list = LINES[s] || ["ë¬¸ì¥ì´ ì•„ì§ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."];
    const idx = Math.floor(Math.random() * list.length);
    resultEl.textContent = list[idx];
  }

  // âœ… ì ‘ì† ì¦‰ì‹œ 1ì¤„ ìë™ ì¶œë ¥
  drawRandomLine();

  // âœ… í† í° ì¸ì¦ ì„±ê³µ í›„ ëŒì•„ì˜¤ë©´ 1ì¤„ ì¶”ê°€ë¡œ ìë™ ì¶œë ¥ + ë²„íŠ¼ ì‚¬ìš©ì™„ë£Œ
  const bonusGranted = localStorage.getItem("bonus_granted") === "1";
  if (bonusGranted) {
    drawRandomLine();
    bonusBtn.textContent = "ì‚¬ìš© ì™„ë£Œ";
    bonusBtn.classList.add("done");
    bonusBtn.disabled = true;
    localStorage.removeItem("bonus_granted");
  }

  // âœ… í•™ìƒê¸°ì ì¸ì¦ íŒì—…
  bonusBtn.addEventListener("click", () => {
    startScan();
  });

  closeModal.addEventListener("click", async () => {
    await stopScan();
    modal.classList.remove("on");
  });

  modal.addEventListener("click", async (e) => {
    if (e.target === modal) {
      await stopScan();
      modal.classList.remove("on");
    }
  });

});
</script>
<script src="https://unpkg.com/html5-qrcode"></script>

</body>
</html>














